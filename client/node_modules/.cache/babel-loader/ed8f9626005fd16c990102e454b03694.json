{"ast":null,"code":"var detect = require('./detect');\n\nvar requiredFunctions = ['init'];\n\nfunction isSupported(plugin) {\n  return plugin && typeof plugin.supported == 'function' && plugin.supported(detect);\n}\n\nfunction isValid(plugin) {\n  var supportedFunctions = requiredFunctions.filter(function (fn) {\n    return typeof plugin[fn] == 'function';\n  });\n  return supportedFunctions.length === requiredFunctions.length;\n}\n\nmodule.exports = function (plugins) {\n  return [].concat(plugins || []).filter(isSupported).filter(isValid)[0];\n};","map":null,"metadata":{},"sourceType":"script"}