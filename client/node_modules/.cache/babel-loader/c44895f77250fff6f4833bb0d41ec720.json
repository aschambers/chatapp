{"ast":null,"code":"import _slicedToArray from \"/Users/metabou/Desktop/chatapp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/metabou/Desktop/chatapp/client/src/components/CreateServer/CreateServer.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../redux';\nimport usregion from '../../assets/images/usregion.png';\nimport europe from '../../assets/images/europe.png';\nimport russia from '../../assets/images/russia.png';\nimport image from '../../assets/images/image.png';\nimport './CreateServer.css';\n\nconst CreateServer = props => {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        isChangingRegion = _useState2[0],\n        setIsChangingRegion = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        serverImageUrl = _useState4[0],\n        setServerImageUrl = _useState4[1];\n\n  const _useState5 = useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        name = _useState6[0],\n        setName = _useState6[1];\n\n  const mainSubmit = React.createRef();\n  const mainFile = React.createRef();\n  const ref = useRef();\n  useOnClickOutside(ref, () => props.setModalOpen(false));\n\n  const createServer = () => {\n    props.createServer({\n      name: name,\n      createdBy: props.email,\n      public: false,\n      region: props.region\n    });\n  };\n\n  const showMainFile = event => {\n    event.preventDefault();\n    let reader = new FileReader();\n    let file = event.target.files[0];\n\n    reader.onloadend = () => {\n      setServerImageUrl(file); // setServerImageUrl(reader.result);\n    };\n\n    reader.readAsDataURL(file);\n  };\n\n  const findFile = () => {\n    mainFile.current.click();\n  };\n\n  const findSubmit = () => {\n    mainSubmit.current.click();\n  };\n\n  return React.createElement(\"div\", {\n    ref: ref,\n    className: \"servermodal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, !isChangingRegion ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"servermodal-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Create your server\"), React.createElement(\"p\", {\n    className: \"servermodal-info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Creating a server will allow you to setup chatrooms and channels to communicate with others.\"), React.createElement(\"p\", {\n    className: \"servermodal-name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Server Name\"), React.createElement(\"input\", {\n    className: \"servermodal-input\",\n    placeholder: \"Enter a server name\",\n    value: name,\n    onChange: event => {\n      setName(event.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    className: \"servermodal-region\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Server Region\"), React.createElement(\"div\", {\n    className: \"servermodal-select\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, props.region === \"US West\" || props.region === \"US Central\" || props.region === \"US East\" ? React.createElement(\"img\", {\n    src: usregion,\n    height: 35,\n    width: 55,\n    alt: \"server-region\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }) : null, props.region === \"Central Europe\" || props.region === \"Western Europe\" ? React.createElement(\"img\", {\n    src: europe,\n    height: 35,\n    width: 55,\n    alt: \"server-region\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }) : null, props.region === \"Russia\" ? React.createElement(\"img\", {\n    src: russia,\n    height: 35,\n    width: 55,\n    alt: \"server-region\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }) : null, React.createElement(\"span\", {\n    className: \"servermodal-select-current\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, props.region), React.createElement(\"span\", {\n    className: \"servermodal-select-change\",\n    onClick: () => {\n      setIsChangingRegion(true);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Change\"), React.createElement(\"input\", {\n    id: \"file\",\n    type: \"file\",\n    style: {\n      display: 'none'\n    },\n    ref: mainFile,\n    onChange: event => {\n      showMainFile(event);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"servermodal-select-image\",\n    ref: mainSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: serverImageUrl ? serverImageUrl : image,\n    alt: \"current-server\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"Change\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"icon\"))), React.createElement(\"p\", {\n    className: \"servermodal-rules\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"By creating a server, you agree to meet our community guidelines.\"), React.createElement(\"div\", {\n    className: \"servermodal-actions\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    onClick: props.setModalOpen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"\\u2190 Back\"), React.createElement(\"button\", {\n    onClick: () => {\n      createServer();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"Create\"))) : React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"regionmodal-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Select a server region\"), React.createElement(\"div\", {\n    className: \"regionmodal-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"regionmodal-select\",\n    onClick: () => {\n      props.setRegion(\"US West\");\n      setIsChangingRegion(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: usregion,\n    height: 50,\n    width: 90,\n    alt: \"server-region\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"regionmodal-select-current\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"US West\")), React.createElement(\"div\", {\n    className: \"regionmodal-select\",\n    onClick: () => {\n      props.setRegion(\"US Central\");\n      setIsChangingRegion(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: usregion,\n    height: 50,\n    width: 90,\n    alt: \"server-region\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"regionmodal-select-current\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"US Central\")), React.createElement(\"div\", {\n    className: \"regionmodal-select\",\n    onClick: () => {\n      props.setRegion(\"US East\");\n      setIsChangingRegion(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: usregion,\n    height: 50,\n    width: 90,\n    alt: \"server-region\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"regionmodal-select-current\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"US East\"))), React.createElement(\"div\", {\n    className: \"regionmodal-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"regionmodal-select\",\n    onClick: () => {\n      props.setRegion(\"Western Europe\");\n      setIsChangingRegion(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: europe,\n    height: 50,\n    width: 90,\n    alt: \"server-region\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"regionmodal-select-current\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, \"Western Europe\")), React.createElement(\"div\", {\n    className: \"regionmodal-select\",\n    onClick: () => {\n      props.setRegion(\"Central Europe\");\n      setIsChangingRegion(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: europe,\n    height: 50,\n    width: 90,\n    alt: \"server-region\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"regionmodal-select-current\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, \"Central Europe\")), React.createElement(\"div\", {\n    className: \"regionmodal-select\",\n    onClick: () => {\n      props.setRegion(\"Russia\");\n      setIsChangingRegion(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: russia,\n    height: 50,\n    width: 90,\n    alt: \"server-region\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"regionmodal-select-current\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"Russia\")))));\n};\n\nconst useOnClickOutside = (ref, handler) => {\n  useEffect(() => {\n    const listener = event => {\n      // Do nothing if clicking ref's element or descendent elements\n      if (!ref.current || ref.current.contains(event.target)) {\n        return;\n      }\n\n      handler(event);\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n    return () => {\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, handler]);\n};\n\nfunction mapStateToProps({\n  serversReducer\n}) {\n  return {\n    error: serversReducer.error,\n    isLoading: serversReducer.isLoading,\n    success: serversReducer.success\n  };\n}\n\nexport default connect(mapStateToProps, actions)(CreateServer);","map":{"version":3,"sources":["/Users/metabou/Desktop/chatapp/client/src/components/CreateServer/CreateServer.js"],"names":["React","useState","useEffect","useRef","connect","actions","usregion","europe","russia","image","CreateServer","props","isChangingRegion","setIsChangingRegion","serverImageUrl","setServerImageUrl","name","setName","mainSubmit","createRef","mainFile","ref","useOnClickOutside","setModalOpen","createServer","createdBy","email","public","region","showMainFile","event","preventDefault","reader","FileReader","file","target","files","onloadend","readAsDataURL","findFile","current","click","findSubmit","value","display","setRegion","handler","listener","contains","document","addEventListener","removeEventListener","mapStateToProps","serversReducer","error","isLoading","success"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,KAAKC,OAAZ,MAAyB,aAAzB;AACA,OAAOC,QAAP,MAAqB,kCAArB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,KAAP,MAAkB,+BAAlB;AACA,OAAO,oBAAP;;AAEA,MAAMC,YAAY,GAAIC,KAAD,IAAW;AAAA,oBACkBV,QAAQ,CAAC,KAAD,CAD1B;AAAA;AAAA,QACvBW,gBADuB;AAAA,QACLC,mBADK;;AAAA,qBAEcZ,QAAQ,CAAC,EAAD,CAFtB;AAAA;AAAA,QAEvBa,cAFuB;AAAA,QAEPC,iBAFO;;AAAA,qBAGNd,QAAQ,CAAC,EAAD,CAHF;AAAA;AAAA,QAGvBe,IAHuB;AAAA,QAGjBC,OAHiB;;AAK9B,QAAMC,UAAU,GAAGlB,KAAK,CAACmB,SAAN,EAAnB;AAEA,QAAMC,QAAQ,GAAGpB,KAAK,CAACmB,SAAN,EAAjB;AAEA,QAAME,GAAG,GAAGlB,MAAM,EAAlB;AACAmB,EAAAA,iBAAiB,CAACD,GAAD,EAAM,MAAMV,KAAK,CAACY,YAAN,CAAmB,KAAnB,CAAZ,CAAjB;;AAEA,QAAMC,YAAY,GAAG,MAAM;AACzBb,IAAAA,KAAK,CAACa,YAAN,CAAmB;AACjBR,MAAAA,IAAI,EAAEA,IADW;AAEjBS,MAAAA,SAAS,EAAEd,KAAK,CAACe,KAFA;AAGjBC,MAAAA,MAAM,EAAE,KAHS;AAIjBC,MAAAA,MAAM,EAAEjB,KAAK,CAACiB;AAJG,KAAnB;AAMD,GAPD;;AASA,QAAMC,YAAY,GAAIC,KAAD,IAAW;AAC9BA,IAAAA,KAAK,CAACC,cAAN;AACA,QAAIC,MAAM,GAAG,IAAIC,UAAJ,EAAb;AACA,QAAIC,IAAI,GAAGJ,KAAK,CAACK,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAX;;AAEAJ,IAAAA,MAAM,CAACK,SAAP,GAAmB,MAAM;AACvBtB,MAAAA,iBAAiB,CAACmB,IAAD,CAAjB,CADuB,CAEvB;AACD,KAHD;;AAIAF,IAAAA,MAAM,CAACM,aAAP,CAAqBJ,IAArB;AACD,GAVD;;AAYA,QAAMK,QAAQ,GAAG,MAAM;AACrBnB,IAAAA,QAAQ,CAACoB,OAAT,CAAiBC,KAAjB;AACD,GAFD;;AAIA,QAAMC,UAAU,GAAG,MAAM;AACvBxB,IAAAA,UAAU,CAACsB,OAAX,CAAmBC,KAAnB;AACD,GAFD;;AAIA,SACE;AAAK,IAAA,GAAG,EAAEpB,GAAV;AAAe,IAAA,SAAS,EAAC,aAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAACT,gBAAD,GACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAEE;AAAG,IAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oGAFF,EAGE;AAAG,IAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAHF,EAIE;AAAO,IAAA,SAAS,EAAC,mBAAjB;AAAqC,IAAA,WAAW,EAAC,qBAAjD;AAAuE,IAAA,KAAK,EAAEI,IAA9E;AAAoF,IAAA,QAAQ,EAAGc,KAAD,IAAW;AAAEb,MAAAA,OAAO,CAACa,KAAK,CAACK,MAAN,CAAaQ,KAAd,CAAP;AAA8B,KAAzI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,EAKE;AAAG,IAAA,SAAS,EAAC,oBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBALF,EAME;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGhC,KAAK,CAACiB,MAAN,KAAiB,SAAjB,IAA8BjB,KAAK,CAACiB,MAAN,KAAiB,YAA/C,IAA+DjB,KAAK,CAACiB,MAAN,KAAiB,SAAhF,GAA4F;AAAK,IAAA,GAAG,EAAEtB,QAAV;AAAoB,IAAA,MAAM,EAAE,EAA5B;AAAgC,IAAA,KAAK,EAAE,EAAvC;AAA2C,IAAA,GAAG,EAAC,eAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA5F,GAAgK,IADnK,EAEGK,KAAK,CAACiB,MAAN,KAAiB,gBAAjB,IAAqCjB,KAAK,CAACiB,MAAN,KAAiB,gBAAtD,GAAyE;AAAK,IAAA,GAAG,EAAErB,MAAV;AAAkB,IAAA,MAAM,EAAE,EAA1B;AAA8B,IAAA,KAAK,EAAE,EAArC;AAAyC,IAAA,GAAG,EAAC,eAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAzE,GAA2I,IAF9I,EAGGI,KAAK,CAACiB,MAAN,KAAiB,QAAjB,GAA4B;AAAK,IAAA,GAAG,EAAEpB,MAAV;AAAkB,IAAA,MAAM,EAAE,EAA1B;AAA8B,IAAA,KAAK,EAAE,EAArC;AAAyC,IAAA,GAAG,EAAC,eAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA5B,GAA8F,IAHjG,EAIE;AAAM,IAAA,SAAS,EAAC,4BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA8CG,KAAK,CAACiB,MAApD,CAJF,EAKE;AAAM,IAAA,SAAS,EAAC,2BAAhB;AAA4C,IAAA,OAAO,EAAE,MAAM;AAAEf,MAAAA,mBAAmB,CAAC,IAAD,CAAnB;AAA4B,KAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALF,EAME;AAAO,IAAA,EAAE,EAAC,MAAV;AAAiB,IAAA,IAAI,EAAC,MAAtB;AAA6B,IAAA,KAAK,EAAE;AAAE+B,MAAAA,OAAO,EAAE;AAAX,KAApC;AAAyD,IAAA,GAAG,EAAExB,QAA9D;AAAwE,IAAA,QAAQ,EAAGU,KAAD,IAAW;AAAED,MAAAA,YAAY,CAACC,KAAD,CAAZ;AAAqB,KAApH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,EAOE;AAAK,IAAA,SAAS,EAAC,0BAAf;AAA0C,IAAA,GAAG,EAAEZ,UAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAEJ,cAAc,GAAGA,cAAH,GAAoBL,KAA5C;AAAmD,IAAA,GAAG,EAAC,gBAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF,CAPF,CANF,EAmBE;AAAG,IAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yEAnBF,EAoBE;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,OAAO,EAAEE,KAAK,CAACY,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE;AAAQ,IAAA,OAAO,EAAE,MAAM;AAAEC,MAAAA,YAAY;AAAK,KAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,CApBF,CADD,GA0BC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAI,IAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,EAEE;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAoC,IAAA,OAAO,EAAE,MAAM;AAAEb,MAAAA,KAAK,CAACkC,SAAN,CAAgB,SAAhB;AAA4BhC,MAAAA,mBAAmB,CAAC,KAAD,CAAnB;AAA6B,KAA9G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAEP,QAAV;AAAoB,IAAA,MAAM,EAAE,EAA5B;AAAgC,IAAA,KAAK,EAAE,EAAvC;AAA2C,IAAA,GAAG,EAAC,eAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAM,IAAA,SAAS,EAAC,4BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF,CADF,EAKE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAoC,IAAA,OAAO,EAAE,MAAM;AAAEK,MAAAA,KAAK,CAACkC,SAAN,CAAgB,YAAhB;AAA+BhC,MAAAA,mBAAmB,CAAC,KAAD,CAAnB;AAA6B,KAAjH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAEP,QAAV;AAAoB,IAAA,MAAM,EAAE,EAA5B;AAAgC,IAAA,KAAK,EAAE,EAAvC;AAA2C,IAAA,GAAG,EAAC,eAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAM,IAAA,SAAS,EAAC,4BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,CALF,EASE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAoC,IAAA,OAAO,EAAE,MAAM;AAAEK,MAAAA,KAAK,CAACkC,SAAN,CAAgB,SAAhB;AAA4BhC,MAAAA,mBAAmB,CAAC,KAAD,CAAnB;AAA6B,KAA9G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAEP,QAAV;AAAoB,IAAA,MAAM,EAAE,EAA5B;AAAgC,IAAA,KAAK,EAAE,EAAvC;AAA2C,IAAA,GAAG,EAAC,eAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAM,IAAA,SAAS,EAAC,4BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF,CATF,CAFF,EAgBE;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAoC,IAAA,OAAO,EAAE,MAAM;AAAEK,MAAAA,KAAK,CAACkC,SAAN,CAAgB,gBAAhB;AAAmChC,MAAAA,mBAAmB,CAAC,KAAD,CAAnB;AAA6B,KAArH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAEN,MAAV;AAAkB,IAAA,MAAM,EAAE,EAA1B;AAA8B,IAAA,KAAK,EAAE,EAArC;AAAyC,IAAA,GAAG,EAAC,eAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAM,IAAA,SAAS,EAAC,4BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,CADF,EAKE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAoC,IAAA,OAAO,EAAE,MAAM;AAAEI,MAAAA,KAAK,CAACkC,SAAN,CAAgB,gBAAhB;AAAmChC,MAAAA,mBAAmB,CAAC,KAAD,CAAnB;AAA6B,KAArH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAEN,MAAV;AAAkB,IAAA,MAAM,EAAE,EAA1B;AAA8B,IAAA,KAAK,EAAE,EAArC;AAAyC,IAAA,GAAG,EAAC,eAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAM,IAAA,SAAS,EAAC,4BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,CALF,EASE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAoC,IAAA,OAAO,EAAE,MAAM;AAAEI,MAAAA,KAAK,CAACkC,SAAN,CAAgB,QAAhB;AAA2BhC,MAAAA,mBAAmB,CAAC,KAAD,CAAnB;AAA6B,KAA7G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,GAAG,EAAEL,MAAV;AAAkB,IAAA,MAAM,EAAE,EAA1B;AAA8B,IAAA,KAAK,EAAE,EAArC;AAAyC,IAAA,GAAG,EAAC,eAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAM,IAAA,SAAS,EAAC,4BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,CATF,CAhBF,CA3BJ,CADF;AA6DD,CAtGD;;AAwGA,MAAMc,iBAAiB,GAAG,CAACD,GAAD,EAAMyB,OAAN,KAAkB;AAC1C5C,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM6C,QAAQ,GAAGjB,KAAK,IAAI;AACxB;AACA,UAAI,CAACT,GAAG,CAACmB,OAAL,IAAgBnB,GAAG,CAACmB,OAAJ,CAAYQ,QAAZ,CAAqBlB,KAAK,CAACK,MAA3B,CAApB,EAAwD;AACtD;AACD;;AAEDW,MAAAA,OAAO,CAAChB,KAAD,CAAP;AACD,KAPD;;AASAmB,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuCH,QAAvC;AACAE,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,YAA1B,EAAwCH,QAAxC;AAEA,WAAO,MAAM;AACXE,MAAAA,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,EAA0CJ,QAA1C;AACAE,MAAAA,QAAQ,CAACE,mBAAT,CAA6B,YAA7B,EAA2CJ,QAA3C;AACD,KAHD;AAID,GAjBQ,EAiBN,CAAC1B,GAAD,EAAMyB,OAAN,CAjBM,CAAT;AAkBD,CAnBD;;AAqBA,SAASM,eAAT,CAAyB;AAAEC,EAAAA;AAAF,CAAzB,EAA6C;AAC3C,SAAO;AACLC,IAAAA,KAAK,EAAED,cAAc,CAACC,KADjB;AAELC,IAAAA,SAAS,EAAEF,cAAc,CAACE,SAFrB;AAGLC,IAAAA,OAAO,EAAEH,cAAc,CAACG;AAHnB,GAAP;AAKD;;AAED,eAAepD,OAAO,CAACgD,eAAD,EAAkB/C,OAAlB,CAAP,CAAkCK,YAAlC,CAAf","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../redux';\nimport usregion from '../../assets/images/usregion.png';\nimport europe from '../../assets/images/europe.png';\nimport russia from '../../assets/images/russia.png';\nimport image from '../../assets/images/image.png';\nimport './CreateServer.css';\n\nconst CreateServer = (props) => {\n  const [isChangingRegion, setIsChangingRegion] = useState(false);\n  const [serverImageUrl, setServerImageUrl] = useState(\"\");\n  const [name, setName] = useState(\"\");\n\n  const mainSubmit = React.createRef();\n\n  const mainFile = React.createRef();\n\n  const ref = useRef();\n  useOnClickOutside(ref, () => props.setModalOpen(false));\n\n  const createServer = () => {\n    props.createServer({\n      name: name,\n      createdBy: props.email,\n      public: false,\n      region: props.region\n    });\n  }\n\n  const showMainFile = (event) => {\n    event.preventDefault();\n    let reader = new FileReader();\n    let file = event.target.files[0];\n\n    reader.onloadend = () => {\n      setServerImageUrl(file);\n      // setServerImageUrl(reader.result);\n    }\n    reader.readAsDataURL(file)\n  }\n\n  const findFile = () => {\n    mainFile.current.click();\n  }\n\n  const findSubmit = () => {\n    mainSubmit.current.click();\n  }\n\n  return (\n    <div ref={ref} className=\"servermodal\">\n      {!isChangingRegion ?\n        <div>\n          <h1 className=\"servermodal-title\">Create your server</h1>\n          <p className=\"servermodal-info\">Creating a server will allow you to setup chatrooms and channels to communicate with others.</p>\n          <p className=\"servermodal-name\">Server Name</p>\n          <input className=\"servermodal-input\" placeholder=\"Enter a server name\" value={name} onChange={(event) => { setName(event.target.value); }} />\n          <p className=\"servermodal-region\">Server Region</p>\n          <div className=\"servermodal-select\">\n            {props.region === \"US West\" || props.region === \"US Central\" || props.region === \"US East\" ? <img src={usregion} height={35} width={55} alt=\"server-region\" /> : null}\n            {props.region === \"Central Europe\" || props.region === \"Western Europe\" ? <img src={europe} height={35} width={55} alt=\"server-region\" /> : null}\n            {props.region === \"Russia\" ? <img src={russia} height={35} width={55} alt=\"server-region\" /> : null}\n            <span className=\"servermodal-select-current\">{props.region}</span>\n            <span className=\"servermodal-select-change\" onClick={() => { setIsChangingRegion(true); }}>Change</span>\n            <input id=\"file\" type=\"file\" style={{ display: 'none' }} ref={mainFile} onChange={(event) => { showMainFile(event) }} />\n            <div className=\"servermodal-select-image\" ref={mainSubmit}>\n              <img src={serverImageUrl ? serverImageUrl : image} alt=\"current-server\" />\n              <p>Change</p>\n              <p>icon</p>\n            </div>\n          </div>\n          <p className=\"servermodal-rules\">By creating a server, you agree to meet our community guidelines.</p>\n          <div className=\"servermodal-actions\">\n            <p onClick={props.setModalOpen}>&larr; Back</p>\n            <button onClick={() => { createServer(); }}>Create</button>\n          </div>\n        </div> :\n        <div>\n          <h1 className=\"regionmodal-title\">Select a server region</h1>\n          <div className=\"regionmodal-container\">\n            <div className=\"regionmodal-select\" onClick={() => { props.setRegion(\"US West\"); setIsChangingRegion(false); }}>\n              <img src={usregion} height={50} width={90} alt=\"server-region\" />\n              <span className=\"regionmodal-select-current\">US West</span>\n            </div>\n            <div className=\"regionmodal-select\" onClick={() => { props.setRegion(\"US Central\"); setIsChangingRegion(false); }}>\n              <img src={usregion} height={50} width={90} alt=\"server-region\" />\n              <span className=\"regionmodal-select-current\">US Central</span>\n            </div>\n            <div className=\"regionmodal-select\" onClick={() => { props.setRegion(\"US East\"); setIsChangingRegion(false); }}>\n              <img src={usregion} height={50} width={90} alt=\"server-region\" />\n              <span className=\"regionmodal-select-current\">US East</span>\n            </div>\n          </div>\n          <div className=\"regionmodal-container\">\n            <div className=\"regionmodal-select\" onClick={() => { props.setRegion(\"Western Europe\"); setIsChangingRegion(false); }}>\n              <img src={europe} height={50} width={90} alt=\"server-region\" />\n              <span className=\"regionmodal-select-current\">Western Europe</span>\n            </div>\n            <div className=\"regionmodal-select\" onClick={() => { props.setRegion(\"Central Europe\"); setIsChangingRegion(false); }}>\n              <img src={europe} height={50} width={90} alt=\"server-region\" />\n              <span className=\"regionmodal-select-current\">Central Europe</span>\n            </div>\n            <div className=\"regionmodal-select\" onClick={() => { props.setRegion(\"Russia\"); setIsChangingRegion(false); }}>\n              <img src={russia} height={50} width={90} alt=\"server-region\" />\n              <span className=\"regionmodal-select-current\">Russia</span>\n            </div>\n          </div>\n        </div>}\n    </div>\n  );\n}\n\nconst useOnClickOutside = (ref, handler) => {\n  useEffect(() => {\n    const listener = event => {\n      // Do nothing if clicking ref's element or descendent elements\n      if (!ref.current || ref.current.contains(event.target)) {\n        return;\n      }\n\n      handler(event);\n    };\n\n    document.addEventListener('mousedown', listener);\n    document.addEventListener('touchstart', listener);\n\n    return () => {\n      document.removeEventListener('mousedown', listener);\n      document.removeEventListener('touchstart', listener);\n    };\n  }, [ref, handler]);\n}\n\nfunction mapStateToProps({ serversReducer }) {\n  return {\n    error: serversReducer.error,\n    isLoading: serversReducer.isLoading,\n    success: serversReducer.success\n  };\n}\n\nexport default connect(mapStateToProps, actions)(CreateServer);"]},"metadata":{},"sourceType":"module"}