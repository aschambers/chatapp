{"ast":null,"code":"import _slicedToArray from \"/Users/metabou/Desktop/ChatterSanctum/chatapp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/metabou/Desktop/ChatterSanctum/chatapp/client/src/components/Signup/Signup.js\";\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../redux';\nimport { toast } from 'react-toastify';\nimport { Redirect } from 'react-router';\nimport ToastMessage from '../../components/ToastMessage/ToastMessage';\nimport { Link } from 'react-router-dom';\nimport './Signup.css';\n\nconst Signup = props => {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        showSuccess = _useState2[0],\n        setShowSuccess = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        email = _useState4[0],\n        setEmail = _useState4[1];\n\n  const _useState5 = useState(''),\n        _useState6 = _slicedToArray(_useState5, 2),\n        username = _useState6[0],\n        setUsername = _useState6[1];\n\n  const _useState7 = useState(''),\n        _useState8 = _slicedToArray(_useState7, 2),\n        password = _useState8[0],\n        setPassword = _useState8[1];\n\n  useEffect(() => {\n    if (props.success) {\n      toast.dismiss();\n      toast.success('You signed up successfully, please check for an email to verify your account!', {\n        position: toast.POSITION.BOTTOM_CENTER\n      });\n      setTimeout(() => {\n        setShowSuccess(true);\n      }, 3000);\n    } else if (props.error) {\n      toast.dismiss();\n      toast.error('Email address or username is already in use', {\n        position: 'bottom-center'\n      });\n    }\n\n    props.resetUserValues();\n  }, [props, props.success, props.error]);\n\n  if (showSuccess) {\n    return React.createElement(Redirect, {\n      push: true,\n      to: \"/Login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    });\n  }\n\n  const userSignup = () => {\n    const params = {\n      email: email,\n      username: username,\n      password: password,\n      active: false,\n      type: 'user'\n    };\n    const emailRegex = /^(([^<>()\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n    if (!emailRegex.test(String(email).toLowerCase())) {\n      toast.dismiss();\n      toast.error('Email address must be a valid!', {\n        position: 'bottom-center'\n      });\n      return;\n    }\n\n    if (!email && !username && !password) {\n      toast.dismiss();\n      toast.error('All fields are required to signup.', {\n        position: 'bottom-center'\n      });\n    } else if (username.length > 14) {\n      toast.dismiss();\n      toast.error('Username does not meet the length requirements.', {\n        position: 'bottom-center'\n      });\n    } else {\n      props.userSignup(params);\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"authcontainersignup\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(ToastMessage, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Create an account!\"), React.createElement(\"div\", {\n    className: \"authcontainersignup__section\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Email\"), React.createElement(\"input\", {\n    onChange: event => setEmail(event.target.value),\n    value: email,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"Username\"), React.createElement(\"input\", {\n    onChange: event => setUsername(event.target.value),\n    value: username,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"input\", {\n    type: \"password\",\n    onChange: event => setPassword(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: userSignup,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"Sign-up\"), React.createElement(Link, {\n    to: \"/Login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"Already have an account? Login.\"))));\n};\n\nfunction mapStateToProps({\n  usersReducer\n}) {\n  return {\n    error: usersReducer.error,\n    isLoading: usersReducer.isLoading,\n    success: usersReducer.success\n  };\n}\n\nexport default connect(mapStateToProps, actions)(Signup);","map":{"version":3,"sources":["/Users/metabou/Desktop/ChatterSanctum/chatapp/client/src/components/Signup/Signup.js"],"names":["React","useState","useEffect","connect","actions","toast","Redirect","ToastMessage","Link","Signup","props","showSuccess","setShowSuccess","email","setEmail","username","setUsername","password","setPassword","success","dismiss","position","POSITION","BOTTOM_CENTER","setTimeout","error","resetUserValues","userSignup","params","active","type","emailRegex","test","String","toLowerCase","length","event","target","value","mapStateToProps","usersReducer","isLoading"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../redux';\nimport { toast } from 'react-toastify';\nimport { Redirect } from 'react-router';\nimport ToastMessage from '../../components/ToastMessage/ToastMessage'\nimport { Link } from 'react-router-dom';\nimport './Signup.css';\n\nconst Signup = (props) => {\n  const [showSuccess, setShowSuccess] = useState(false);\n  const [email, setEmail] = useState('');\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  useEffect(() => {\n    if(props.success) {\n      toast.dismiss();\n      toast.success('You signed up successfully, please check for an email to verify your account!', {\n        position: toast.POSITION.BOTTOM_CENTER,\n      });\n      setTimeout(() => {\n        setShowSuccess(true);\n      }, 3000);\n    } else if(props.error) {\n      toast.dismiss();\n      toast.error('Email address or username is already in use', { position: 'bottom-center' });\n    }\n    props.resetUserValues();\n  }, [props, props.success, props.error]);\n\n  if(showSuccess) {\n    return <Redirect push to=\"/Login\" />;\n  }\n\n  const userSignup = () => {\n    const params = {\n      email: email,\n      username: username,\n      password: password,\n      active: false,\n      type: 'user'\n    }\n    const emailRegex = /^(([^<>()\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    if (!emailRegex.test(String(email).toLowerCase())) {\n      toast.dismiss();\n      toast.error('Email address must be a valid!', { position: 'bottom-center' });\n      return;\n    }\n    if(!email && !username && !password) {\n      toast.dismiss();\n      toast.error('All fields are required to signup.', { position: 'bottom-center' });\n    } else if (username.length > 14) {\n      toast.dismiss();\n      toast.error('Username does not meet the length requirements.', { position: 'bottom-center' });\n    } else {\n      props.userSignup(params);\n    }\n  }\n\n  return (\n    <div className=\"authcontainersignup\">\n      <ToastMessage />\n      <span>Create an account!</span>\n      <div className=\"authcontainersignup__section\">\n        <span>Email</span>\n        <input onChange={event => setEmail(event.target.value)} value={email} />\n        <span>Username</span>\n        <input onChange={event => setUsername(event.target.value)} value={username}/>\n        <span>Password</span>\n        <input type=\"password\" onChange={event => setPassword(event.target.value)} />\n        <button onClick={userSignup}>Sign-up</button>\n        <Link to=\"/Login\"><p className=\"login\">Already have an account? Login.</p></Link>\n      </div>\n    </div>\n  );\n};\n\nfunction mapStateToProps({ usersReducer }) {\n  return {\n    error: usersReducer.error,\n    isLoading: usersReducer.isLoading,\n    success: usersReducer.success\n  }\n}\n\nexport default connect(mapStateToProps, actions)(Signup);"]},"metadata":{},"sourceType":"module"}