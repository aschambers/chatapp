{"ast":null,"code":"var _jsxFileName = \"/Users/metabou/Desktop/chatapp/client/src/components/AuthNavigation/AuthNavigation.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport * as actions from '../../redux';\nimport { ROOT_URL } from '../../config/networkSettings';\nimport io from \"socket.io-client\";\nimport './AuthNavigation.css';\nimport manage from '../../assets/images/manage.png';\nimport editprofile from '../../assets/images/editaccount.png';\nimport chatroom from '../../assets/images/chatroom.png';\nimport logout from '../../assets/images/logout.png';\nimport menu from '../../assets/images/hamburger-menu.png';\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group';\nimport onClickOutside from \"react-onclickoutside\";\n\nclass AuthNavigation extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClickOutside = () => {\n      this.setState({\n        navSideMenu: false\n      });\n    };\n\n    this.logout = async () => {\n      await this.props.userLogout(this.state.user);\n      this.socket.emit('LOGOUT_USER', {\n        username: this.state.username,\n        active: false\n      });\n    };\n\n    this.toggleNavMenu = () => {\n      this.setState({\n        navSideMenu: !this.state.navSideMenu\n      });\n    };\n\n    this.state = {\n      visible: false,\n      navSideMenu: false,\n      username: '',\n      user: null\n    };\n  }\n\n  componentDidMount() {\n    this.props.currentUser();\n    this.socket = io(ROOT_URL);\n  }\n\n  async componentWillReceiveProps(nextProps) {\n    if (nextProps.user) {\n      const _nextProps$user = nextProps.user,\n            username = _nextProps$user.username,\n            type = _nextProps$user.type;\n      this.setState({\n        username: username,\n        user: nextProps.user\n      });\n\n      if (type === 'admin') {\n        this.setState({\n          visible: true\n        });\n      }\n    }\n\n    if (nextProps.logout) {\n      await this.socket.emit('GET_USERS');\n      await this.props.resetUserValues();\n      this.props.history.push('/');\n    }\n  }\n\n  async componentWillUnmount() {\n    this.socket.disconnect(true);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"navbarDashboard\",\n      onClick: this.toggleNavMenu,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"navbarDashboard-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"navbarDashboard-home\",\n      src: menu,\n      alt: \"menu-icon\",\n      style: {\n        height: '1.5rem',\n        width: '2.5rem',\n        marginTop: '1.3rem'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }))), React.createElement(ReactCSSTransitionGroup, {\n      transitionName: \"slider\",\n      transitionAppear: true,\n      transitionAppearTimeout: 500,\n      transitionEnterTimeout: 500,\n      transitionLeaveTimeout: 500,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, this.state.navSideMenu ? React.createElement(\"div\", {\n      className: \"navSideMenu\",\n      onClick: this.toggleNavMenu,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"menu-links\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/Chatroom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"navbarDashboard-authlink\",\n      src: chatroom,\n      alt: \"user-icon\",\n      style: {\n        height: '3.5rem',\n        width: '18.9rem',\n        marginTop: '1.5rem',\n        paddingBottom: '1.5rem',\n        paddingLeft: '1.5rem',\n        paddingRight: '1.5rem',\n        borderBottom: '1px solid white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })), React.createElement(Link, {\n      to: \"/Profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"navbarDashboard-authlink\",\n      src: editprofile,\n      alt: \"user-icon\",\n      style: {\n        height: '3.5rem',\n        width: '18.9rem',\n        marginTop: '1.5rem',\n        paddingBottom: '1.5rem',\n        paddingLeft: '1.5rem',\n        paddingRight: '1.5rem',\n        borderBottom: '1px solid white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    })), React.createElement(Link, {\n      to: \"/Manage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"navbarDashboard-authlink\",\n      src: manage,\n      alt: \"user-icon\",\n      style: {\n        display: this.state.visible === false ? 'none' : 'flex',\n        height: '3.5rem',\n        width: '18.9rem',\n        marginTop: '1.5rem',\n        paddingBottom: '1.5rem',\n        paddingLeft: '1.5rem',\n        paddingRight: '1.5rem',\n        borderBottom: '1px solid white'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    })), React.createElement(\"img\", {\n      className: \"navbarDashboard-authlink\",\n      src: logout,\n      alt: \"user-icon\",\n      style: {\n        height: '3.5rem',\n        width: '18.9rem',\n        marginTop: '1.5rem',\n        paddingBottom: '1.5rem',\n        paddingLeft: '1.5rem',\n        paddingRight: '1.5rem',\n        borderBottom: '1px solid white'\n      },\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }))) : null));\n  }\n\n}\n\nfunction mapStateToProps({\n  usersReducer\n}) {\n  return {\n    error: usersReducer.error,\n    isLoading: usersReducer.isLoading,\n    success: usersReducer.success,\n    logout: usersReducer.logout,\n    user: usersReducer.user\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, actions)(onClickOutside(AuthNavigation)));","map":{"version":3,"sources":["/Users/metabou/Desktop/chatapp/client/src/components/AuthNavigation/AuthNavigation.js"],"names":["React","Component","Link","withRouter","connect","actions","ROOT_URL","io","manage","editprofile","chatroom","logout","menu","ReactCSSTransitionGroup","onClickOutside","AuthNavigation","constructor","props","handleClickOutside","setState","navSideMenu","userLogout","state","user","socket","emit","username","active","toggleNavMenu","visible","componentDidMount","currentUser","componentWillReceiveProps","nextProps","type","resetUserValues","history","push","componentWillUnmount","disconnect","render","height","width","marginTop","paddingBottom","paddingLeft","paddingRight","borderBottom","display","mapStateToProps","usersReducer","error","isLoading","success"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport * as actions from '../../redux';\nimport { ROOT_URL } from '../../config/networkSettings';\nimport io from \"socket.io-client\";\nimport './AuthNavigation.css';\nimport manage from '../../assets/images/manage.png';\nimport editprofile from '../../assets/images/editaccount.png';\nimport chatroom from '../../assets/images/chatroom.png';\nimport logout from '../../assets/images/logout.png';\nimport menu from '../../assets/images/hamburger-menu.png';\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group';\nimport onClickOutside from \"react-onclickoutside\";\n\nclass AuthNavigation extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      visible: false,\n      navSideMenu: false,\n      username: '',\n      user: null\n    }\n  }\n\n  componentDidMount() {\n    this.props.currentUser();\n\n    this.socket = io(ROOT_URL);\n  }\n\n  async componentWillReceiveProps(nextProps) {\n    if(nextProps.user) {\n      const { username, type } = nextProps.user;\n\n      this.setState({ username: username, user: nextProps.user });\n      if(type === 'admin') {\n        this.setState({ visible: true });\n      }\n    }\n\n    if(nextProps.logout) {\n      await this.socket.emit('GET_USERS');\n      await this.props.resetUserValues();\n      this.props.history.push('/');\n    }\n  }\n  async componentWillUnmount() {\n    this.socket.disconnect(true);\n  }\n\n  handleClickOutside = () => {\n    this.setState({ navSideMenu: false });\n  };\n\n  logout = async() => {\n    await this.props.userLogout(this.state.user);\n    this.socket.emit('LOGOUT_USER', {\n      username: this.state.username,\n      active: false\n    });\n  }\n\n  toggleNavMenu = () => {\n    this.setState({ navSideMenu: !this.state.navSideMenu });\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"navbarDashboard\" onClick={this.toggleNavMenu}>\n          <div className=\"navbarDashboard-link\">\n            <img className=\"navbarDashboard-home\" src={menu} alt=\"menu-icon\" style={{ height: '1.5rem', width: '2.5rem', marginTop: '1.3rem' }} />\n          </div>\n        </div>\n        <ReactCSSTransitionGroup\n          transitionName=\"slider\"\n          transitionAppear={true}\n          transitionAppearTimeout={500}\n          transitionEnterTimeout={500}\n          transitionLeaveTimeout={500}\n        >\n          {this.state.navSideMenu ?\n            <div className=\"navSideMenu\" onClick={this.toggleNavMenu}>\n              <div className=\"menu-links\">\n                <Link to=\"/Chatroom\"><img className=\"navbarDashboard-authlink\" src={chatroom} alt=\"user-icon\" style={{ height: '3.5rem', width: '18.9rem', marginTop: '1.5rem', paddingBottom: '1.5rem', paddingLeft: '1.5rem', paddingRight: '1.5rem', borderBottom: '1px solid white' }} /></Link>\n                <Link to=\"/Profile\"><img className=\"navbarDashboard-authlink\" src={editprofile} alt=\"user-icon\" style={{ height: '3.5rem', width: '18.9rem', marginTop: '1.5rem', paddingBottom: '1.5rem', paddingLeft: '1.5rem', paddingRight: '1.5rem', borderBottom: '1px solid white' }} /></Link>\n                <Link to=\"/Manage\"><img className=\"navbarDashboard-authlink\" src={manage} alt=\"user-icon\" style={{ display: (this.state.visible === false ? 'none' : 'flex'), height: '3.5rem', width: '18.9rem', marginTop: '1.5rem', paddingBottom: '1.5rem', paddingLeft: '1.5rem', paddingRight: '1.5rem', borderBottom: '1px solid white' }} /></Link>\n                <img className=\"navbarDashboard-authlink\" src={logout} alt=\"user-icon\" style={{ height: '3.5rem', width: '18.9rem', marginTop: '1.5rem', paddingBottom: '1.5rem', paddingLeft: '1.5rem', paddingRight: '1.5rem', borderBottom: '1px solid white' }} onClick={this.logout} />\n              </div>\n            </div>\n          : null}\n        </ReactCSSTransitionGroup>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps({ usersReducer }) {\n  return {\n    error: usersReducer.error,\n    isLoading: usersReducer.isLoading,\n    success: usersReducer.success,\n    logout: usersReducer.logout,\n    user: usersReducer.user,\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, actions)(onClickOutside(AuthNavigation)));\n"]},"metadata":{},"sourceType":"module"}